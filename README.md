# .github

Commonly used Github actions for Amplify-BIO CI/CD processes. Workflow templates can be implemented here also. See <https://docs.github.com/en/actions/using-workflows/creating-starter-workflows-for-your-organization>

## Deployment Guideline

- Put the `yml` file in `.github/actions/` if it is a reusable action.
- Put the `yml` file in `.github/workflows/` if it is a reusable workflow.

## List of Actions and Workflows

### Actions

- `docker-build`: Build docker container image. `Dockerfile` should be in `devop/`.
- `docker-push-scan-on-ecr`: Push the Docker image to ECR and scan the image.
- `helm-push-to-ecr`: Package the helm chart and push it to ECR (OCI Artifact). Helm chart should be in `devops/Helm/`.
- `helm-deploy-ecr-to-eks`: Deploy helm chart storing in ECR on EKS cluster.
- `aws-eventbridge-rule-targets`: Create/Update the targets of an AWS EventBridge rule. It is a wrapper of `boto3.EventBridge.put_targets`. The rule should have been created.

### Workflows

- `get-dev-version`: Get development the docker image tag and helm chart version, which are generated by the commit hash.
- `get-env`: Get the deployment envirionment based on the triggered event.
